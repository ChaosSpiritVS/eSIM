<!doctype html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>å¸®åŠ©ä¸­å¿ƒ</title>
    <link rel="stylesheet" href="styles.css?v=20251210">
    <script src="data.js?v=20251210"></script>
    <script src="help.js?v=20251210"></script>
    <script src="https://cdn.jsdelivr.net/npm/mammoth@1.6.0/mammoth.browser.min.js"></script>
  </head>
  <body>
    <div class="screen">
      <div class="nav" id="nav"><h1>å¸®åŠ©ä¸­å¿ƒ</h1></div>
      <div class="content">
        <div id="cats"></div>
      </div>
    </div>
    <script>
      syncUrlWithStoredLocale();
      const lang = detectLang();
      const locale = detectLocale();
      document.documentElement.lang = locale;
      const title = locStr('help_center', locale);
      renderHeader(document.getElementById('nav'), title, lang);
      const bl = document.getElementById('backLabel'); if (bl) bl.style.display = 'none';
      const bk = document.getElementById('back'); if (bk) bk.style.display = 'none';
      const cats = HelpData.categories;
      const catsEl = document.getElementById('cats');
      renderLangToggle(document.querySelector('.content'), lang);
      function renderGridDynamic(catNames) {
        catsEl.innerHTML = '';
        const grid = document.createElement('div'); grid.className = 'grid';
        catNames.forEach(cn=>{
          const a = document.createElement('a'); a.className = 'tile';
          a.href = `category.html?cat=${encodeURIComponent(cn)}&lang=${lang}&locale=${locale}${isIOSHost()? '&ios=1':''}`;
          const emoji = document.createElement('div'); emoji.className='emoji'; emoji.textContent = 'ðŸ“˜';
          const title = document.createElement('div'); title.className='title'; title.textContent = localizedCategoryDisplayName(cn, locale);
          a.appendChild(emoji); a.appendChild(title);
          grid.appendChild(a);
        });
        catsEl.appendChild(grid);
      }
      renderSearch(document.querySelector('.content'), lang);
      listCategories().then(renderGridDynamic).catch(()=>{
        const fallback = (cats || []).map(c=> categoryTitle(c, locale));
        renderGridDynamic(fallback);
      });
    </script>
  </body>
</html>
